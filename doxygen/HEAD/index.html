<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
</head><body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">dynamic-graph Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_dynamicGraph"></a>
Introduction</h1>
<p>The dynamic-graph package is used to connect computation nodes, "entities" together using a graph system, akin to what Simulink does. With the building blocks this package provides, you can easily create a full computation graph for a given problem. It is the basis for the stack of tasks operation.</p>
<div class="image">
<img src="entity.png" alt="entity.png"/>
</div>
<p> Functionality: </p><ul>
<li>Built-in scripting language* for fast prototyping and testing </li>
<li>Support for extensions and modules using dynamic link libraries </li>
<li>Template-based signal definition, independent </li>
<li>Type-safe connection of input and output signals </li>
<li>On-demand signal computation as well as a caching system for signal values allow fast computation of signal values, which is a critical point for real-time systems<br />
See <a class="el" href="index.html#scriptingabout">Notes about the scripting language</a></li>
</ul>
<h1><a class="anchor" id="overview"></a>
Code overview</h1>
<p>This code implements the factory design pattern, making creation of entities (as C++ classes) available to packages depending on the dynamic-graph API. For more information on this package's code or how to develop your own entities, see <a class="el" href="index.html#usecase">How to use this package</a>.</p>
<h1><a class="anchor" id="entities"></a>
List of entities in this package</h1>
<p>Since most of the functionality in projects using the dynamic-graph framework is exposed from entities, here is a short description of all the entities contained in this package. Note that most entities are contained in a binary file that closely matches the entities' names in the scripts; loading this file with the plugin loader will enable creation of this entity through the factory. </p><ul>
<li><a class="el" href="a00004.html">Tracer</a> </li>
<li><a class="el" href="a00003.html">TracerRealTime</a> </li>
<li>ShellProcedure </li>
<li><a class="el" href="a00002.html">ShellFunctions</a></li>
</ul>
<p>The entities will be placed in ${PREFIX}/lib/plugin (since this may change, it is advised to check the install log or the CMakeLists.txt file to check the installation path). </p>
<h1><a class="anchor" id="sigintro"></a>
About signals</h1>
<p>Entities can output different types of signals. All signals are templated by a Time tick type parameter (which is used in the caching of signals) - usually <code>int</code>. Signals are also templated after the type of data they accept or provide. For example: (example) For a more detailed programmer-oriented description of signals, please see <a class="el" href="a00104.html">Signals</a></p>
<h1><a class="anchor" id="scriptingabout"></a>
Notes about the scripting language</h1>
<p>The scripting language allows entities to define their own commands, and provides a basic framework for working with the dynamic-graph. At the time of writing, there is talk about replacing (or complementing) this limited language with a python interpreter.</p>
<p>A couple of functions are built-in in the interpreter and provides low-level features such as file sourcing or plug-in loading.<br />
These functions are:<br />
</p><div class="fragment"><div class="line">plug &lt;obj1.sig1&gt; &lt;obj2.sig2&gt; </div></div><!-- fragment --><p> plugs the signal sig1 of obj1 to the signal sig2 of obj2. sig1 and sig2 have to be of the same type. sig1 has to be an output signal and sig2 an input signal. </p><div class="fragment"><div class="line">new &lt;class&gt; &lt;<span class="keywordtype">object</span>&gt; </div></div><!-- fragment --><p> instantiates an object object of class class. object has to be a free identifier and class an existing entity. </p><div class="fragment"><div class="line">destroy &lt;object&gt; </div></div><!-- fragment --><p> deletes an instance previously created. </p><div class="fragment"><div class="line">run &lt;script.txt&gt; </div></div><!-- fragment --><p> sources (i.e. read and interpret) an external file. </p><div class="fragment"><div class="line">loadPlugin &lt;file.so&gt; &lt;directory&gt; </div></div><!-- fragment --><p> loads a plugin called file.so and located in the directory directory. </p><div class="fragment"><div class="line">unloadPlugin &lt;path/file.so&gt; </div></div><!-- fragment --><p> unloads a plugin. </p><div class="fragment"><div class="line">help </div></div><!-- fragment --><p> lists available functions. </p><div class="fragment"><div class="line"><span class="keyword">set</span> &lt;obj.signal&gt; &lt;value&gt; </div></div><!-- fragment --><p> defines an input signal to a specific, constant, value. </p><div class="fragment"><div class="line"><span class="keyword">get</span> &lt;obj.signal&gt; &lt;value&gt; </div></div><!-- fragment --><p> prints out a signal value. </p><div class="fragment"><div class="line">compute &lt;obj.sig&gt; &lt;time&gt; </div></div><!-- fragment --><p> computes an output signal and sets the associated time to time.</p>
<h1><a class="anchor" id="usecase"></a>
How to use this package</h1>
<p>1) Programmatically<br />
Objects, which are derived from Entities (base class <a class="el" href="a00019.html" title="This class represents an entity, i.e. ">dynamicgraph::Entity</a>), can be declared within the code and compiled to shared libraries (.so/.dll files). These libraries can be loaded at run-time using the PluginLoader methods, and at the same time register their class names to the Factory (see the examples in the SOT documentation to learn how).</p>
<p>The Factory can then create instances of these objects and subsequently register them in the Pool, where they can be listed, accessed, and acted upon (see PoolStorage documentation). Basic commands defined by entities include signal connection graph file generation, help and name print, and signals.</p>
<p>Finally, a shell (command-line) interface is made available thanks to the Interpreter class (see the file test_shell.cpp for an example). Objects deriving from Entity can expose their own commands by overriding the Entity's default commandLine() method. It is possible to load a plugin to register custom shell commands; see shell-functions and shell-procedure for an example.</p>
<p>Some basic shell functions, and support for procedures, are also included. For a complete list of those, load the plugin shell-functions.so and type 'help' at the command line.</p>
<p>The (singletons made available by including the corresponding headers in this module are: </p><ul>
<li><a class="el" href="a00026.html" title="Provides a way to create Entity objects from their class name. ">dynamicgraph::FactoryStorage</a> </li>
<li><a class="el" href="a00030.html" title="Singleton that keeps track of all the entities. ">dynamicgraph::PoolStorage</a></li>
</ul>
<p>For an example of a program creating entities in C++, see the unit test test_pool.cpp (in your package source directory/unitTesting).</p>
<p>2) Through scripts<br />
The program <a class="el" href="a00001.html">dg-shell executable</a> can be used to have scripting access to the dynamic-graph library, where you can execute scripts and commands, load plugins, create entities and connect signals.</p>
<p>Here is a typical use case for programmers: </p><div class="image">
<img src="use-case.png" alt="use-case.png"/>
</div>
<h1><a class="anchor" id="References"></a>
References</h1>
<p><a class="anchor" id="Mansard2007"></a> <b>"Task sequencing for sensor-based control"</b>, <em>N. Mansard, F. Chaumette,</em> IEEE Trans. on Robotics, 23(1):60-72, February 2007 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Dec 18 2017 00:07:45 for dynamic-graph by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
